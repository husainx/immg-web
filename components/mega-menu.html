<!-- Reusable Mega Menu Component -->
<div
  class="mega-menu"
  x-data="{ isOpen: false, menuTop: 0 }"
  @mouseenter="menuTop = ($root.closest('header')?.getBoundingClientRect().bottom || 0) + window.scrollY; isOpen = true"
  @mouseleave="isOpen = false"
  @scroll.window="isOpen = false"
  @resize.window="menuTop = ($root.closest('header')?.getBoundingClientRect().bottom || 0) + window.scrollY"
>
  <div class="relative">
    <!-- Trigger Link -->
    <a
      href="#"
      class="text-white hover:text-secondary/90 transition-colors cursor-pointer"
      x-text="triggerText"
    ></a>

    <!-- Mega Menu Dropdown -->
    <div
      x-show="isOpen"
      x-transition:enter="transition ease-out duration-200"
      x-transition:enter-start="opacity-0 transform scale-95"
      x-transition:enter-end="opacity-100 transform scale-100"
      x-transition:leave="transition ease-in duration-150"
      x-transition:leave-start="opacity-100 transform scale-100"
      x-transition:leave-end="opacity-0 transform scale-95"
      class="fixed left-1/2 w-screen max-w-7xl -translate-x-1/2 bg-white shadow-2xl border-t-4 border-secondary z-50 origin-top"
      :style="{ top: menuTop + 'px' }"
    >
      <div class="container mx-auto py-8 px-4">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
          <!-- Left Column -->
          <div class="space-y-6">
            <div class="space-y-4">
              <h3
                class="text-xl font-bold text-primary border-b-2 border-secondary pb-2"
                x-text="leftColumnTitle"
              ></h3>
              <ul class="space-y-3">
                <template x-for="item in leftColumnItems" :key="item.text">
                  <li>
                    <a
                      :href="item.href"
                      class="block p-3 bg-blue-50 rounded-lg text-gray-700 hover:bg-blue-100 transition-colors font-medium"
                      x-text="item.text"
                    ></a>
                  </li>
                </template>
              </ul>
            </div>
          </div>

          <!-- Right Column -->
          <div class="space-y-6">
            <div class="space-y-4">
              <h3
                class="text-xl font-bold text-primary border-b-2 border-secondary pb-2"
                x-text="rightColumnTitle"
              ></h3>
              <ul class="space-y-3">
                <template x-for="item in rightColumnItems" :key="item.text">
                  <li>
                    <a
                      :href="item.href"
                      class="block p-3 bg-blue-50 rounded-lg text-gray-700 hover:bg-blue-100 transition-colors font-medium"
                      x-text="item.text"
                    ></a>
                  </li>
                </template>
              </ul>
            </div>
          </div>
        </div>

        <!-- Bottom Section with CTA (optional) -->
        <template x-if="ctaText || ctaButtonText">
          <div class="mt-8 pt-6 border-t border-gray-200">
            <div class="flex items-center justify-between">
              <div class="text-sm text-gray-600">
                <span class="font-medium" x-text="ctaText"></span>
              </div>
              <a
                :href="ctaHref"
                class="inline-block px-6 py-3 border-2 border-secondary text-secondary font-bold rounded-lg hover:bg-secondary hover:text-white transition-colors uppercase tracking-wide"
                x-text="ctaButtonText"
              ></a>
            </div>
          </div>
        </template>
      </div>
    </div>
  </div>
</div>

<!-- Usage Instructions:
  Include this component and configure it with Alpine.js data:

  For Passport:
  x-data="{
    triggerText: 'Passport',
    leftColumnTitle: 'THE REVOLUTION',
    leftColumnItems: [
      { text: 'PASSPORTS', href: '#' },
      { text: 'PASSPORT CARD', href: '#' }
    ],
    rightColumnTitle: 'Services',
    rightColumnItems: [
      { text: 'How To Apply', href: '#' },
      { text: 'PHOTO STANDARD', href: '#' },
      { text: 'FAQ', href: '#' }
    ],
    ctaText: 'Ready to apply for your Maldivian passport?',
    ctaButtonText: 'APPLY FOR MALDIVIAN PASSPORT',
    ctaHref: '#'
  }"

  For Visa:
  x-data="{
    triggerText: 'Visa',
    leftColumnTitle: 'Visa Types',
    leftColumnItems: [
      { text: 'Tourist Visa', href: '#' },
      { text: 'Business Visa', href: '#' },
      { text: 'Work Visa', href: '#' }
    ],
    rightColumnTitle: 'Application',
    rightColumnItems: [
      { text: 'Requirements', href: '#' },
      { text: 'Application Process', href: '#' },
      { text: 'Processing Time', href: '#' }
    ],
    ctaText: 'Need a visa for Maldives?',
    ctaButtonText: 'APPLY FOR VISA',
    ctaHref: '#'
  }"

  For Media (no CTA):
  x-data="{
    triggerText: 'Media',
    leftColumnTitle: 'Newsroom',
    leftColumnItems: [
      { text: 'Press Releases', href: '#' },
      { text: 'Announcements', href: '#' },
      { text: 'Events', href: '#' },
      { text: 'Speeches', href: '#' }
    ],
    rightColumnTitle: 'Media Assets',
    rightColumnItems: [
      { text: 'Photos', href: '#' },
      { text: 'Videos', href: '#' },
      { text: 'Logos & Brand', href: '#' },
      { text: 'Guidelines', href: '#' }
    ]
  }"
-->
